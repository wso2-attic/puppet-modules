<!--
  ~ Copyright (c) 2016, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
  ~
  ~ WSO2 Inc. licenses this file to you under the Apache License,
  ~ Version 2.0 (the "License"); you may not use this file except
  ~ in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~    http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing,
  ~ software distributed under the License is distributed on an
  ~ "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  ~ KIND, either express or implied. See the License for the
  ~ specific language governing permissions and limitations
  ~ under the License.
  -->
<SSOIdentityProviderConfig>
    <TenantRegistrationPage>https://stratos-local.wso2.com/carbon/tenant-register/select_domain.jsp</TenantRegistrationPage>
    <ServiceProviders>
        <ServiceProvider>
            <Issuer>store</Issuer>
	    <AssertionConsumerServiceURLs>
        	<%- if @hostname && @ports['proxyPort'] && @ports['proxyPort']['https'] -%>
        	    <AssertionConsumerService>https://<%= @hostname %>:<%= @ports['proxyPort']['https'] %>/store/acs</AssertionConsumerService>
        	<%- elsif @hostname -%>
        	    <AssertionConsumerService>https://<%= @hostname %>:9443/store/acs</AssertionConsumerService>
        	<%- else -%>
        	    <AssertionConsumerService>https://localhost:9443/store/acs</AssertionConsumerService>
        	<%- end -%>
	    </AssertionConsumerServiceURLs>
       	<%- if @hostname && @ports['proxyPort'] && @ports['proxyPort']['https'] -%>
            <DefaultAssertionConsumerServiceURL>https://<%= @hostname %>:<%= @ports['proxyPort']['https'] %>/store/acs</DefaultAssertionConsumerServiceURL>
        <%- elsif @hostname -%>
            <DefaultAssertionConsumerServiceURL>https://<%= @hostname %>:9443/store/acs</DefaultAssertionConsumerServiceURL>
        <%- else -%>
            <DefaultAssertionConsumerServiceURL>https://localhost:9443/store/acs</DefaultAssertionConsumerServiceURL>
        <%- end -%>
            <SignResponse>true</SignResponse>
            <CustomLoginPage>/store/login.jag</CustomLoginPage>
        </ServiceProvider>
        <ServiceProvider>
            <Issuer>social</Issuer>
            <AssertionConsumerServiceURLs>
	        <%- if @hostname && @ports['proxyPort'] && @ports['proxyPort']['https'] -%>
	            <AssertionConsumerService>https://<%= @hostname %>:<%= @ports['proxyPort']['https'] %>/social/acs</AssertionConsumerService>
	        <%- elsif @hostname -%>
	            <AssertionConsumerService>https://<%= @hostname %>:9443/social/acs</AssertionConsumerService>
	        <%- else -%>
	            <AssertionConsumerService>https://localhost:9443/social/acs</AssertionConsumerService>
	        <%- end -%>
	    </AssertionConsumerServiceURLs>
        <%- if @hostname && @ports['proxyPort'] && @ports['proxyPort']['https'] -%>
            <DefaultAssertionConsumerServiceURL>https://<%= @hostname %>:<%= @ports['proxyPort']['https'] %>/social/acs</DefaultAssertionConsumerServiceURL>
        <%- elsif @hostname -%>
            <DefaultAssertionConsumerServiceURL>https://<%= @hostname %>:9443/social/acs</DefaultAssertionConsumerServiceURL>
        <%- else -%>
            <DefaultAssertionConsumerServiceURL>https://localhost:9443/social/acs</DefaultAssertionConsumerServiceURL>
        <%- end -%>
            <SignResponse>true</SignResponse>
            <CustomLoginPage>/social/login</CustomLoginPage>
        </ServiceProvider>
        <ServiceProvider>
            <Issuer>publisher</Issuer>
	    <AssertionConsumerServiceURLs>
        	<%- if @hostname && @ports['proxyPort'] && @ports['proxyPort']['https'] -%>
	            <AssertionConsumerService>https://<%= @hostname %>:<%= @ports['proxyPort']['https'] %>/publisher/acs</AssertionConsumerService>
	        <%- elsif @hostname -%>
	            <AssertionConsumerService>https://<%= @hostname %>:9443/publisher/acs</AssertionConsumerService>
	        <%- else -%>
	            <AssertionConsumerService>https://localhost:9443/publisher/acs</AssertionConsumerService>
	        <%- end -%>
	    </AssertionConsumerServiceURLs>
        <%- if @hostname && @ports['proxyPort'] && @ports['proxyPort']['https'] -%>
            <DefaultAssertionConsumerServiceURL>https://<%= @hostname %>:<%= @ports['proxyPort']['https'] %>/publisher/acs</DefaultAssertionConsumerServiceURL>
        <%- elsif @hostname -%>
            <DefaultAssertionConsumerServiceURL>https://<%= @hostname %>:9443/publisher/acs</DefaultAssertionConsumerServiceURL>
        <%- else -%>
            <DefaultAssertionConsumerServiceURL>https://localhost:9443/publisher/acs</DefaultAssertionConsumerServiceURL>
        <%- end -%>
            <SignResponse>true</SignResponse>
            <CustomLoginPage>/publisher/controllers/login.jag</CustomLoginPage>
        </ServiceProvider>
    </ServiceProviders>
</SSOIdentityProviderConfig>
